# ========================================
# SKYRAKSYS HRM - PRODUCTION ENVIRONMENT
# ========================================
# Last Updated: October 24, 2025
# Environment: Production
# ========================================

# ----------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------

# Environment mode (production, development, staging)
NODE_ENV=production

# Server port (default: 5000)
# Note: Use 80/443 for direct HTTP/HTTPS or reverse proxy to this port
PORT=5000

# Application name (used in logs and notifications)
APP_NAME=Skyraksys HRM

# Application URL (full URL where app is hosted)
# Used for email links, redirects, etc.
APP_URL=https://hrm.yourcompany.com

# Frontend URL (if different from APP_URL)
# Used for CORS configuration
FRONTEND_URL=https://hrm.yourcompany.com

# ----------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------

# PostgreSQL connection settings
DB_HOST=your-db-server.com
# DB_HOST=localhost  # Use if DB is on same server
# DB_HOST=10.0.1.50  # Use internal IP for better performance

DB_PORT=5432

DB_NAME=skyraksys_hrm_production
# Recommended: Use separate databases for each environment
# Dev: skyraksys_hrm_dev
# Staging: skyraksys_hrm_staging  
# Prod: skyraksys_hrm_production

DB_USER=hrm_prod_user
# Security: Create a dedicated user with limited permissions
# GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO hrm_prod_user;

DB_PASSWORD=YOUR_STRONG_PASSWORD_HERE
# IMPORTANT: Use a strong password (min 16 chars, mixed case, numbers, symbols)
# Generate with: openssl rand -base64 32

# Database connection pool settings
DB_POOL_MAX=20
# Maximum number of connections (adjust based on server capacity)
# Formula: (CPU cores * 2) + effective_spindle_count

DB_POOL_MIN=5
# Minimum idle connections to maintain

DB_POOL_ACQUIRE=30000
# Max time (ms) to acquire a connection before timeout

DB_POOL_IDLE=10000
# Max idle time (ms) before releasing connection

# Enable SSL for database connection (recommended for production)
DB_SSL=true
# Set to false only if DB is on same server or secure network

# ----------------------------------------
# AUTHENTICATION & SECURITY
# ----------------------------------------

# JWT Secret Key - CRITICAL: Change this to a unique, strong secret
JWT_SECRET=YOUR_SUPER_SECRET_JWT_KEY_CHANGE_THIS_IN_PRODUCTION
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# NEVER use default values in production!

# JWT Token Expiration
JWT_EXPIRES_IN=8h
# Options: 1h, 8h, 1d, 7d
# Shorter = more secure, longer = better UX
# Recommended: 8h for production (one work day)

# Refresh Token Expiration
REFRESH_TOKEN_EXPIRES_IN=7d
# How long refresh tokens are valid
# Recommended: 7d (one week)

# Session Secret (for express-session)
SESSION_SECRET=YOUR_SESSION_SECRET_CHANGE_THIS
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# Password Hashing Rounds (bcrypt)
BCRYPT_ROUNDS=12
# Higher = more secure but slower
# 10 = fast, 12 = balanced, 14 = very secure
# Recommended: 12 for production

# CORS Allowed Origins (comma-separated for multiple)
CORS_ORIGIN=https://hrm.yourcompany.com
# For multiple origins:
# CORS_ORIGIN=https://hrm.yourcompany.com,https://admin.yourcompany.com

# Enable CORS credentials
CORS_CREDENTIALS=true

# ----------------------------------------
# FILE UPLOAD CONFIGURATION
# ----------------------------------------

# Upload directory (absolute path in production)
UPLOAD_DIR=/var/www/skyraksys-hrm/backend/uploads/employee-photos
# Ensure this directory exists and has proper permissions:
# mkdir -p /var/www/skyraksys-hrm/backend/uploads/employee-photos
# chown -R www-data:www-data /var/www/skyraksys-hrm/backend/uploads
# chmod -R 755 /var/www/skyraksys-hrm/backend/uploads

# Company logo upload directory
LOGO_UPLOAD_DIR=/var/www/skyraksys-hrm/backend/uploads/company-logos

# Maximum file size in bytes (5MB default)
MAX_FILE_SIZE=5242880
# 1MB = 1048576 bytes
# 5MB = 5242880 bytes
# 10MB = 10485760 bytes

# Allowed file types (comma-separated MIME types)
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,image/webp
# Add more if needed: image/gif,image/svg+xml

# ----------------------------------------
# EMAIL CONFIGURATION (SMTP)
# ----------------------------------------

# Enable/disable email functionality
EMAIL_ENABLED=true

# SMTP Server settings
SMTP_HOST=smtp.gmail.com
# Gmail: smtp.gmail.com
# Outlook: smtp-mail.outlook.com
# SendGrid: smtp.sendgrid.net
# AWS SES: email-smtp.us-east-1.amazonaws.com

SMTP_PORT=587
# Port 587: TLS (recommended)
# Port 465: SSL
# Port 25: Plain (not recommended)

SMTP_SECURE=false
# false for port 587 (STARTTLS)
# true for port 465 (SSL/TLS)

# SMTP Authentication
SMTP_USER=your-email@yourcompany.com
# For Gmail: your-email@gmail.com
# For SendGrid: apikey (literal string)

SMTP_PASSWORD=your-app-specific-password
# For Gmail: Use App Password, not regular password
# For SendGrid: Use API key as password

# Email sender details
EMAIL_FROM=noreply@yourcompany.com
EMAIL_FROM_NAME=Skyraksys HRM System

# Admin email (for system notifications)
ADMIN_EMAIL=admin@yourcompany.com

# ----------------------------------------
# LOGGING CONFIGURATION
# ----------------------------------------

# Log level (error, warn, info, debug, verbose)
LOG_LEVEL=info
# Production recommended: info or warn
# Development: debug or verbose

# Log file path
LOG_FILE=/var/www/skyraksys-hrm/backend/logs/app.log
# Ensure logs directory exists:
# mkdir -p /var/www/skyraksys-hrm/backend/logs
# chown -R www-data:www-data /var/www/skyraksys-hrm/backend/logs

# Error log file
ERROR_LOG_FILE=/var/www/skyraksys-hrm/backend/logs/error.log

# Maximum log file size before rotation
LOG_MAX_SIZE=20m
# Options: 10m, 20m, 50m, 100m

# Number of log files to keep
LOG_MAX_FILES=14
# 14 = two weeks of daily logs

# Enable console logging in production (usually false)
LOG_CONSOLE=false
# Set to true for debugging, false for production

# ----------------------------------------
# RATE LIMITING
# ----------------------------------------

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Maximum requests per window
RATE_LIMIT_MAX=100
# Adjust based on expected traffic

# Time window in milliseconds
RATE_LIMIT_WINDOW_MS=900000
# 900000 ms = 15 minutes
# 60000 ms = 1 minute

# Enable rate limit on auth endpoints
AUTH_RATE_LIMIT_MAX=5
# Maximum login attempts per window

AUTH_RATE_LIMIT_WINDOW_MS=900000
# 900000 ms = 15 minutes

# ----------------------------------------
# REDIS CONFIGURATION (Optional)
# ----------------------------------------
# Uncomment if using Redis for session storage or caching

# REDIS_ENABLED=true
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0
# REDIS_TTL=3600  # Session TTL in seconds

# ----------------------------------------
# BACKUP CONFIGURATION
# ----------------------------------------

# Enable automatic backups
BACKUP_ENABLED=true

# Backup directory
BACKUP_DIR=/var/backups/skyraksys-hrm

# Backup retention days
BACKUP_RETENTION_DAYS=30
# Backups older than this will be automatically deleted

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *
# 0 2 * * * = Every day at 2:00 AM
# 0 */6 * * * = Every 6 hours

# ----------------------------------------
# CLOUD STORAGE (Optional)
# ----------------------------------------
# Uncomment if using cloud storage for uploads

# AWS S3
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=skyraksys-hrm-uploads

# Google Cloud Storage
# GCS_PROJECT_ID=your-project-id
# GCS_KEYFILE_PATH=/path/to/service-account-key.json
# GCS_BUCKET=skyraksys-hrm-uploads

# Cloudinary
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# ----------------------------------------
# MONITORING & ANALYTICS
# ----------------------------------------

# Enable application monitoring
MONITORING_ENABLED=true

# Sentry DSN (error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics ID
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Application Insights (Azure)
# APPINSIGHTS_INSTRUMENTATIONKEY=your-instrumentation-key

# ----------------------------------------
# TIMEZONE & LOCALIZATION
# ----------------------------------------

# Application timezone
TZ=Asia/Kolkata
# Options: Asia/Kolkata, America/New_York, Europe/London, etc.
# Use IANA timezone names

# Default language
DEFAULT_LANGUAGE=en
# Options: en, hi, es, fr, etc.

# Default currency
DEFAULT_CURRENCY=INR
# Options: INR, USD, EUR, GBP, etc.

# Date format
DATE_FORMAT=DD/MM/YYYY
# Options: DD/MM/YYYY, MM/DD/YYYY, YYYY-MM-DD

# ----------------------------------------
# PERFORMANCE OPTIMIZATION
# ----------------------------------------

# Enable response compression
COMPRESSION_ENABLED=true

# Compression level (0-9)
COMPRESSION_LEVEL=6
# Higher = better compression but slower
# Recommended: 6 for balanced performance

# Enable caching
CACHE_ENABLED=true

# Cache TTL in seconds
CACHE_TTL=3600
# 3600 = 1 hour

# ----------------------------------------
# FEATURE FLAGS
# ----------------------------------------

# Enable/disable specific features
FEATURE_ATTENDANCE=true
FEATURE_PAYROLL=true
FEATURE_LEAVE_MANAGEMENT=true
FEATURE_PERFORMANCE_REVIEW=true
FEATURE_RECRUITMENT=false
FEATURE_TRAINING=false

# ----------------------------------------
# SECURITY HEADERS
# ----------------------------------------

# Enable security headers middleware
SECURITY_HEADERS_ENABLED=true

# Content Security Policy
CSP_ENABLED=true

# Helmet.js security settings (automatically applied)
# No configuration needed - enabled by default in production

# ----------------------------------------
# MAINTENANCE MODE
# ----------------------------------------

# Enable maintenance mode (blocks all requests)
MAINTENANCE_MODE=false

# Maintenance message
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# Allowed IPs during maintenance (comma-separated)
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# ----------------------------------------
# THIRD-PARTY INTEGRATIONS
# ----------------------------------------

# Slack notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# SMS Gateway (Twilio example)
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# Payment Gateway (Razorpay example)
# RAZORPAY_KEY_ID=your-key-id
# RAZORPAY_KEY_SECRET=your-key-secret

# ----------------------------------------
# CUSTOM SETTINGS
# ----------------------------------------

# Company name
COMPANY_NAME=Your Company Name

# Company email
COMPANY_EMAIL=info@yourcompany.com

# Company phone
COMPANY_PHONE=+91-XXXXXXXXXX

# Company address
COMPANY_ADDRESS=Your Company Address

# Financial year start month (1-12)
FINANCIAL_YEAR_START_MONTH=4
# 4 = April (Indian financial year)
# 1 = January (Calendar year)

# Working days per week
WORKING_DAYS_PER_WEEK=5

# Working hours per day
WORKING_HOURS_PER_DAY=8

# ----------------------------------------
# NOTES & REMINDERS
# ----------------------------------------

# SECURITY CHECKLIST:
# [ ] Changed JWT_SECRET to a unique value
# [ ] Changed SESSION_SECRET to a unique value
# [ ] Updated DB_PASSWORD to a strong password
# [ ] Configured CORS_ORIGIN to your domain
# [ ] Set up SSL/TLS for database connection
# [ ] Enabled HTTPS for the application
# [ ] Set up firewall rules
# [ ] Configured proper file permissions
# [ ] Set up automated backups
# [ ] Configured monitoring/alerting

# PERFORMANCE CHECKLIST:
# [ ] Configured database connection pool
# [ ] Enabled compression
# [ ] Enabled caching
# [ ] Set up CDN for static assets
# [ ] Optimized log levels
# [ ] Configured rate limiting

# BACKUP CHECKLIST:
# [ ] Set up automated database backups
# [ ] Set up file upload backups
# [ ] Tested backup restoration
# [ ] Configured off-site backup storage
# [ ] Set up backup monitoring

# ========================================
# END OF CONFIGURATION
# ========================================
